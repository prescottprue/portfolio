function $StateProvider(a,b){function c(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function d(a,b){if(!a)return void 0;var e=isString(a),f=e?a:a.name,g=c(f);if(g){if(!b)throw new Error("No reference point given for path '"+f+"'");b=d(b);for(var h=f.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+f+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),f=k.name+(k.name&&h?".":"")+h}var l=p[f];return!l||!e&&(e||l!==a&&l.self!==a)?void 0:l}function e(a,b){q[a]||(q[a]=[]),q[a].push(b)}function f(a){for(var b=q[a]||[];b.length;)g(b.shift())}function g(b){b=inherit(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!isString(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(p.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var d=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):isString(b.parent)?b.parent:isObject(b.parent)&&isString(b.parent.name)?b.parent.name:"";if(d&&!p[d])return e(d,b.self);for(var g in s)isFunction(s[g])&&(b[g]=s[g](b,s.$delegates[g]));return p[c]=b,!b[r]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){o.$current.navigable==b&&equalForKeys(a,c)||o.transitionTo(b,a,{inherit:!0,location:!1})}]),f(c),b}function h(a){return a.indexOf("*")>-1}function i(a){var b=a.split("."),c=o.$current.name.split(".");if("**"===b[0]&&(c=c.slice(indexOf(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(indexOf(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function j(a,b){return isString(a)&&!isDefined(b)?s[a]:isFunction(b)&&isString(a)?(s[a]&&!s.$delegates[a]&&(s.$delegates[a]=s[a]),s[a]=b,this):this}function k(a,b){return isObject(a)?b=a:b.name=a,g(b),this}function l(a,b,c,e,f,g,j){function k(c,d,e,f){var g=a.$broadcast("$stateNotFound",c,d,e);if(g.defaultPrevented)return j.update(),t;if(!g.retry)return null;if(f.$retry)return j.update(),u;var h=o.transition=b.when(g.retry);return h.then(function(){return h!==o.transition?q:(c.options.$retry=!0,o.transitionTo(c.to,c.toParams,c.options))},function(){return t}),j.update(),h}function l(a,d,g,h,i,j){var k=g?d:filterByKeys(a.params.$$keys(),d),l={$stateParams:k};i.resolve=f.resolve(a.resolve,l,i.resolve,a);var m=[i.resolve.then(function(a){i.globals=a})];return h&&m.push(h),forEach(a.views,function(b,d){var g=b.resolve&&b.resolve!==a.resolve?b.resolve:{};g.$template=[function(){return c.load(d,{view:b,locals:l,params:k,notify:j.notify})||""}],m.push(f.resolve(g,l,i.resolve,a).then(function(c){if(isFunction(b.controllerProvider)||isArray(b.controllerProvider)){var f=angular.extend({},g,l);c.$$controller=e.invoke(b.controllerProvider,null,f)}else c.$$controller=b.controller;c.$$state=a,c.$$controllerAs=b.controllerAs,i[d]=c}))}),b.all(m).then(function(){return i})}var q=b.reject(new Error("transition superseded")),s=b.reject(new Error("transition prevented")),t=b.reject(new Error("transition aborted")),u=b.reject(new Error("transition failed"));return n.locals={resolve:null,globals:{$stateParams:{}}},o={params:{},current:n.self,$current:n,transition:null},o.reload=function(){return o.transitionTo(o.current,g,{reload:!0,inherit:!1,notify:!0})},o.go=function(a,b,c){return o.transitionTo(a,b,extend({inherit:!0,relative:o.$current},c))},o.transitionTo=function(c,f,h){f=f||{},h=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},h||{});var i,p=o.$current,t=o.params,v=p.path,w=d(c,h.relative);if(!isDefined(w)){var x={to:c,toParams:f,options:h},y=k(x,p.self,t,h);if(y)return y;if(c=x.to,f=x.toParams,h=x.options,w=d(c,h.relative),!isDefined(w)){if(!h.relative)throw new Error("No such state '"+c+"'");throw new Error("Could not resolve '"+c+"' from state '"+h.relative+"'")}}if(w[r])throw new Error("Cannot transition to abstract state '"+c+"'");if(h.inherit&&(f=inheritParams(g,f||{},o.$current,w)),!w.params.$$validates(f))return u;f=w.params.$$values(f),c=w;var z=c.path,A=0,B=z[A],C=n.locals,D=[];if(!h.reload)for(;B&&B===v[A]&&B.ownParams.$$equals(f,t);)C=D[A]=B.locals,A++,B=z[A];if(m(c,p,C,h))return c.self.reloadOnSearch!==!1&&j.update(),o.transition=null,b.when(o.current);if(f=filterByKeys(c.params.$$keys(),f||{}),h.notify&&a.$broadcast("$stateChangeStart",c.self,f,p.self,t).defaultPrevented)return j.update(),s;for(var E=b.when(C),F=A;F<z.length;F++,B=z[F])C=D[F]=inherit(C),E=l(B,f,B===c,E,C,h);var G=o.transition=E.then(function(){var b,d,i;if(o.transition!==G)return q;for(b=v.length-1;b>=A;b--)i=v[b],i.self.onExit&&e.invoke(i.self.onExit,i.self,i.locals.globals),i.locals=null;for(b=A;b<z.length;b++)d=z[b],d.locals=D[b],d.self.onEnter&&e.invoke(d.self.onEnter,d.self,d.locals.globals);return o.transition!==G?q:(o.$current=c,o.current=c.self,o.params=f,copy(o.params,g),o.transition=null,h.location&&c.navigable&&j.push(c.navigable.url,c.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===h.location}),h.notify&&a.$broadcast("$stateChangeSuccess",c.self,f,p.self,t),j.update(!0),o.current)},function(d){return o.transition!==G?q:(o.transition=null,i=a.$broadcast("$stateChangeError",c.self,f,p.self,t,d),i.defaultPrevented||j.update(),b.reject(d))});return G},o.is=function(a,b,c){c=extend({relative:o.$current},c||{});var e=d(a,c.relative);return isDefined(e)?o.$current!==e?!1:b?equalForKeys(e.params.$$values(b),g):!0:void 0},o.includes=function(a,b,c){if(c=extend({relative:o.$current},c||{}),isString(a)&&h(a)){if(!i(a))return!1;a=o.$current.name}var e=d(a,c.relative);return isDefined(e)?isDefined(o.$current.includes[e.name])?b?equalForKeys(e.params.$$values(b),g,objectKeys(b)):!0:!1:void 0},o.href=function(a,b,c){c=extend({lossy:!0,inherit:!0,absolute:!1,relative:o.$current},c||{});var e=d(a,c.relative);if(!isDefined(e))return null;c.inherit&&(b=inheritParams(g,b||{},o.$current,e));var f=e&&c.lossy?e.navigable:e;return f&&void 0!==f.url&&null!==f.url?j.href(f.url,filterByKeys(e.params.$$keys(),b||{}),{absolute:c.absolute}):null},o.get=function(a,b){if(0===arguments.length)return map(objectKeys(p),function(a){return p[a].self});var c=d(a,b||o.$current);return c&&c.self?c.self:null},o}function m(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var n,o,p={},q={},r="abstract",s={parent:function(a){if(isDefined(a.parent)&&a.parent)return d(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?d(b[1]):n},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=extend({},a.parent.data,a.data)),a.data},url:function(a){var c=a.url,d={params:a.params||{}};if(isString(c))return"^"==c.charAt(0)?b.compile(c.substring(1),d):(a.parent.navigable||n).url.concat(c,d);if(!c||b.isMatcher(c))return c;throw new Error("Invalid url '"+c+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new $$UMFP.ParamSet;return forEach(a.params||{},function(a,c){b[c]||(b[c]=new $$UMFP.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?extend(a.parent.params.$$new(),a.ownParams):new $$UMFP.ParamSet},views:function(a){var b={};return forEach(isDefined(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?extend({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};n=g({name:"",url:"^",views:null,"abstract":!0}),n.navigable=null,this.decorator=j,this.state=k,this.$get=l,l.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.state").value("$stateParams",{}).provider("$state",$StateProvider);