var RevealNotes=function(){function a(){function a(){var a,b,d,e=Reveal.getCurrentSlide(),f=Reveal.getIndices(),g=e.querySelector("aside.notes");e.nextElementSibling&&"SECTION"==e.parentNode.nodeName?(b=f.h,d=f.v+1):(b=f.h+1,d=0),a={notes:g?g.innerHTML:"",indexh:f.h,indexv:f.v,indexf:f.f,nextindexh:b,nextindexv:d,markdown:g?"string"==typeof g.getAttribute("data-markdown"):!1},c.postMessage(JSON.stringify(a),"*")}var b=document.querySelector('script[src$="notes.js"]').src;b=b.replace(/notes\.js(\?.*)?$/,"");var c=window.open(b+"notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",a),Reveal.addEventListener("fragmentshown",a),Reveal.addEventListener("fragmenthidden",a),c.addEventListener("load",function(){a()},!1)}return null!==window.location.search.match(/(\?|\&)notes/gi)&&a(),document.addEventListener("keydown",function(b){null!==document.querySelector(":focus")||b.shiftKey||b.altKey||b.ctrlKey||b.metaKey||83===b.keyCode&&(b.preventDefault(),a())},!1),{open:a}}();